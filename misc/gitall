#!/bin/bash

# Modified: 22 May 2021 (Bob Heckel)

for d in dotfiles code; do
  cd $HOME/$d && git status
  echo "ok to gitup $d dir (Y/n)? " && read yn &&
  if [ "$yn" != 'n' ];then
    # In a paranoid spirit, keep hostname semi-private but distinguish same-OS machines
    git add . && git commit -m "mod gitall $MACHTYPE-${HOSTNAME:0:4}"; git pull origin master && git push origin master
  else
    echo cancelled
  fi
  echo
  # Check for fatals "master pushes to master (local out of date)"
  git remote show origin
done
